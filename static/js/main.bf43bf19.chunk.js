(this["webpackJsonpreact-typescript-babylonjs"]=this["webpackJsonpreact-typescript-babylonjs"]||[]).push([[0],{17:function(e,t,n){e.exports={container:"loading_container__3V_wZ",img:"loading_img__9xYrz"}},20:function(e,t,n){e.exports={canvaContainer:"scene-1_canvaContainer__2Oiz4"}},22:function(e,t,n){e.exports={ui:"ui_ui__3YHo6"}},23:function(e,t,n){e.exports={score:"Score_score__2k693"}},29:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var s=n(6),i=n.n(s),a=n(19),r=n.n(a),o=(n(29),n(13)),c=n(20),u=n.n(c),h=n(1),l=n(2),p=n(0),d=n(10),m=n(14),f=n(5),v=["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"];var b=function(e){var t=Object(s.useRef)(null),n=e.antialias,i=e.engineOptions,a=e.adaptToDeviceRatio,r=e.sceneOptions,o=e.onRender,c=(e.onSceneReady,Object(m.a)(e,v));return Object(s.useEffect)((function(){if(t.current){var s=new p.Engine(t.current,n,i,a),c=new p.Scene(s,r);c.isReady()?e.onSceneReady(c):c.onReadyObservable.addOnce((function(t){return e.onSceneReady(t)})),s.runRenderLoop((function(){"function"===typeof o&&o(c),c.render()}));var u=function(){c.getEngine().resize()};return window&&window.addEventListener("resize",u),function(){c.getEngine().dispose(),window&&window.removeEventListener("resize",u)}}}),[a,n,i,o,e,t,r]),Object(f.jsx)("canvas",Object(d.a)(Object(d.a)({ref:t},c),{},{style:{width:"100%",height:"100%"}}))},y=n(3),w=n(4),O=n(12),j=n(8),g=n(7),x=Object(w.a)((function e(t){Object(y.a)(this,e),this.scene=t,this._mesh=void 0,this._parent=void 0,this._texture=void 0,this._sounds=void 0,this.events={},this.states={}})),M=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(e){var s;return Object(y.a)(this,n),(s=t.call(this,e)).states={died:!1},s.events={die:s.die.bind(Object(O.a)(s))},s.initSounds(),s}return Object(w.a)(n,[{key:"initSounds",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new p.Sound("fall","assets/scene-1/songs/fall.mp3",this.scene,null,{volume:.5}),this._sounds={fall:t};case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"die",value:function(){var e,t;this.states.died=!0,this._sounds.fall.play(),null===(e=this.mesh)||void 0===e||null===(t=e.physicsImpostor)||void 0===t||t.dispose(),this.scene.beginDirectAnimation(this.mesh,function(){var e=.2,t=[],n=[],s=new p.Animation("ySlide","position.y",e,p.Animation.ANIMATIONTYPE_FLOAT,p.Animation.ANIMATIONLOOPMODE_CONSTANT),i=new p.Animation("Rotation","rotation.x",e,p.Animation.ANIMATIONTYPE_FLOAT,p.Animation.ANIMATIONLOOPMODE_CONSTANT);return t.push({frame:0,value:-.56}),t.push({frame:.8*e,value:1}),t.push({frame:2.3*e,value:-6}),s.setKeys(t),n.push({frame:0,value:-Math.PI/2}),n.push({frame:.8*e,value:Math.PI/2}),i.setKeys(n),[s,i]}(),0,5,!1)}},{key:"initMesh",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.SceneLoader.ImportMeshAsync("","assets/scene-1/meshes/cat/","cat.babylon",this.scene);case 2:t=e.sent,(n=t.meshes[0]).name="player",n.parent=null,n.position=new p.Vector3(-1.5,1,3.55),n.rotation.y+=-Math.PI/2,n.physicsImpostor=new p.PhysicsImpostor(n,p.PhysicsImpostor.BoxImpostor,{mass:.8,restitution:0}),n.rotationQuaternion=null,this._mesh=n;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mesh",get:function(){return this._mesh}}]),n}(x),k=Object(w.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(y.a)(this,e),this.mesh=t,this.next=n,this.next=null})),I=function(){function e(){Object(y.a)(this,e),this._head=null,this._last=null,this._size=0}return Object(w.a)(e,[{key:"head",get:function(){return this._head}},{key:"last",get:function(){return this._last}},{key:"size",get:function(){return this._size}},{key:"removeFirstItem",value:function(){this._head&&(this._head=this._head.next,this._size--)}},{key:"addItem",value:function(e){this.head||(this._head=e),this.last&&(this.last.next=e),this._size++,this._last=e}},{key:"clear",value:function(){this._head=null}}]),e}(),S=["velocityX","velocityY","instancesQty"],P=function(){function e(t,n,s,i){var a=this,r=i.velocityX,o=void 0===r?0:r,c=i.velocityY,u=void 0===c?0:c,h=(i.instancesQty,Object(m.a)(i,S));Object(y.a)(this,e),this.name=void 0,this.container=void 0,this.parent=void 0,this.meshes=void 0,this.instances=void 0,this.instancesQty=0,this.parent=h.parent,this.container=new p.Mesh("".concat(t,"-infinity-container"),s),this.name=t,this.meshes=n,this.instances=new I,this.initializeMeshes(h.despawnPlace),this.fillSpawnSpace(h.spawnPlace,h.despawnPlace),s.onBeforeRenderObservable.add((function(){for(var e=s.getAnimationRatio(),t=a.instances.head;t;)t.mesh.position.x+=o*e,t.mesh.position.y+=u*e,t=t.next,a.instances.last.mesh.position.x<h.spawnPlace.x&&a.addInstance(),t&&t.mesh.position.x<h.despawnPlace.x&&a.removeInstance()}))}return Object(w.a)(e,[{key:"removeInstance",value:function(){this.instances.head.mesh.dispose(),this.instances.removeFirstItem()}},{key:"initializeMeshes",value:function(e){var t;null===(t=this.parent)||void 0===t||t.addChild(this.container),this.meshes.forEach((function(e){e.setEnabled(!1)}))}},{key:"positionLastMesh",value:function(e){var t=this.instances.last.mesh.getBoundingInfo().boundingBox.extendSizeWorld,n=this.instances.last.mesh.position,s=e.getBoundingInfo().boundingBox.extendSizeWorld,i=n.x+t.x+s.x,a=n.y,r=n.z;e.position=new p.Vector3(i,a,r)}},{key:"fillSpawnSpace",value:function(e,t){this.instances.addItem(new k(this.getMesh()));var n=!1;for(this.instances.last.mesh.position=new p.Vector3(t.x,t.y,t.z);!n;){var s=this.getMesh();this.positionLastMesh(s),this.instances.addItem(new k(s)),this.instances.last.mesh.position.x>e.x&&(n=!0)}}},{key:"addInstance",value:function(){var e=this.getMesh();this.positionLastMesh(e),this.instances.addItem(new k(e))}},{key:"getMesh",value:function(){var e,t=Math.floor(Math.random()*this.meshes.length),n=this.meshes[t].clone();return n.setEnabled(!0),null===(e=this.container)||void 0===e||e.addChild(n),n.name="".concat(this.instancesQty,"-").concat(this.name),this.instancesQty++,n}}]),e}(),T=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"initMesh",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n,s;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.MeshBuilder.CreatePlane("sky",{width:10,height:20}),n=new p.StandardMaterial("skyMaterial",this.scene),s=new p.Mesh("sky",this.scene),t.position.z=5,t.position.y=.3,n.diffuseColor=new p.Color3(95/255,165/255,245/255),n.specularColor=new p.Color3(0,0,0),t.material=n,new P("sky",[t],this.scene,{velocityX:-.01,parent:s,spawnPlace:{z:20,x:26,y:0},despawnPlace:{z:20,x:-30,y:0}});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSounds",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(x);function C(e,t){var n=p.MeshBuilder.CreateBox("slider-ground",{width:10,height:1}),s=new p.StandardMaterial("groundMaterial",e);return s.diffuseTexture=new p.Texture("assets/scene-1/textures/ground.png",e),s.diffuseTexture.hasAlpha=!0,s.specularColor=new p.Color3(0,0,0),n.material=s,new P("slider-ground",[n],e,{velocityX:-.05,parent:t,spawnPlace:{x:8,z:3.55,y:-1.5},despawnPlace:{x:-8,z:3.55,y:-1.5}}),n}function _(e){var t=p.MeshBuilder.CreateBox("invisible-ground",{size:1}),n=new p.StandardMaterial("groundMaterial",e);return t.position=new p.Vector3(-1.5,-1.5,3.55),n.alpha=0,t.material=n,t.physicsImpostor=new p.PhysicsImpostor(t,p.PhysicsImpostor.BoxImpostor,{mass:0,restitution:0}),t}var A=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"initMesh",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n,s;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new p.Mesh("ground",this.scene),n=C(this.scene,t),s=_(this.scene),t.addChild(n),t.addChild(s),this._mesh={invisibleGround:s,sliderGround:n};case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSounds",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"mesh",get:function(){return this._mesh}}]),n}(x),E=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"initMesh",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.SceneLoader.ImportMeshAsync("","assets/scene-1/meshes/background/casas/","test.babylon",this.scene);case 2:t=e.sent,n=new p.Mesh("background",this.scene),t.meshes.forEach((function(e){n.addChild(e)})),new P("background",t.meshes,this.scene,{velocityX:-.05,parent:n,spawnPlace:{z:13,x:26,y:-2},despawnPlace:{z:13,x:-15,y:-1.5}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSounds",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(x);function z(e){var t=new p.ArcRotateCamera("camera",-Math.PI/2,Math.PI/2,0,new p.Vector3(0,0,0),e);return t.radius=0,t}var L=n(21);function B(e,t,n){var s=new p.Sound("jump","assets/scene-1/songs/jump.mp3",t,null,{volume:.5}),i=new p.Vector3(0,1,0);s.play(),e&&e.mesh.physicsImpostor&&(n.jumping.isJumping=!0,n.jumping.canJump=!1,e.mesh.physicsImpostor.setLinearVelocity(new p.Vector3(0,0,0)),e.mesh.physicsImpostor.applyImpulse(i.scale(4.5),e.mesh.getAbsolutePosition()))}function R(e,t,n){var s=Object(d.a)({},n),i={},a=e;return a.actionManager=new p.ActionManager(e),a.actionManager.registerAction(new p.ExecuteCodeAction(p.ActionManager.OnKeyDownTrigger,(function(e){i[e.sourceEvent.key]="keydown"===e.sourceEvent.type}))),a.actionManager.registerAction(new p.ExecuteCodeAction(p.ActionManager.OnKeyUpTrigger,(function(e){i[e.sourceEvent.key]="keydown"===e.sourceEvent.type}))),a.onPointerObservable.add((function(n){s.jumping.canJump&&L.isMobile&&B(t,e,s)})),a.onBeforeRenderObservable.add((function(){i[" "]&&s.jumping.canJump&&B(t,e,s)})),s}var N=new function(){return this.score=0,this.onUpdateScore=new p.Observable,this},V=function(){function e(t,n){var s=this;Object(y.a)(this,e),this.scene=t,this.player=n,this.prevTime=(new Date).getTime(),this.currentTime=(new Date).getTime(),this.trySpawnTime=(new Date).getTime(),this.obstacleLimit=void 0,this.trySpawnTimeout=0,this.activeElement=[],this.obstacles=[],this.container=void 0,this.obstacleCounter=0,this.container=new p.Mesh("obstacles-container"),this.createObstaclesLimit(),this.scene.onBeforeRenderObservable.add((function(){for(var e=s.scene.getAnimationRatio(),t=s.activeElement.length-1;t>=0;t--)s.activeElement[t].position.x+=-.05*e,s.jumpedObstacle(s.activeElement[t])&&N.onUpdateScore.notifyObservers(++N.score),s.checkObstacleHit(s.activeElement[t]),s.checkObstacleHitsLimit(s.activeElement[t],t)}))}return Object(w.a)(e,[{key:"checkObstacleHit",value:function(e){var t;null!==(t=this.player.mesh)&&void 0!==t&&t.intersectsMesh(e)&&!this.player.states.died&&this.player.events.die()}},{key:"checkObstacleHitsLimit",value:function(e,t){var n;null!==(n=this.obstacleLimit)&&void 0!==n&&n.intersectsMesh(e)&&(this.activeElement[t].dispose(),this.activeElement.splice(t,1))}},{key:"jumpedObstacle",value:function(e){var t=e.getChildMeshes()[0],n=!!t&&t.intersectsMesh(this.player.mesh);return n&&t.dispose(),n}},{key:"canSpawn",value:function(e,t){var n=this.currentTime-this.prevTime>t,s=this.currentTime-this.prevTime>e,i=!1;return this.currentTime-this.trySpawnTime>this.trySpawnTimeout&&(this.trySpawnTime=this.currentTime,s&&(i=Math.random()>.5,n&&(i=!0))),i&&(this.prevTime=this.currentTime),i}},{key:"generateElement",value:function(){var e=this.obstacleCounter,t=this.obstacles,n=Math.floor(Math.random()*t.length);return this.obstacleCounter++,t[n].clone("obstacle-".concat(e))}},{key:"spawnObstacle",value:function(){var e=this.generateElement(),t=p.MeshBuilder.CreatePlane("pointPlane",{width:1,height:5},this.scene),n=new p.StandardMaterial("planeMateral",this.scene);e.position.z=3.55,e.position.y=-1,e.position.x=3,n.alpha=0,t.rotation.y=Math.PI/2,t.material=n,t.position=new p.Vector3(3,-1,3.55),e.addChild(t),this.container.addChild(e),this.activeElement.push(e)}},{key:"createObstacles",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n,s,i;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.SceneLoader.ImportMeshAsync(null,"assets/scene-1/meshes/obstacles/trash/","trash.babylon",this.scene);case 2:return(t=e.sent).meshes[0].rotationQuaternion=null,t.meshes[0].rotation.y=Math.PI,t.meshes[0].rotation.x=-Math.PI/2,t.meshes[0].position.z=-100,t.meshes[0].name="trash",this.container.addChild(t.meshes[0]),e.next=11,p.SceneLoader.ImportMeshAsync(null,"assets/scene-1/meshes/obstacles/dog/","dog.babylon",this.scene);case 11:return(n=e.sent).meshes[0].scaling=new p.Vector3(.5,.5,.5),n.meshes[0].rotationQuaternion=null,n.meshes[0].rotation.y=Math.PI/2,n.meshes[0].position.z=-100,n.meshes[0].name="dog",this.container.addChild(n.meshes[0]),e.next=20,p.SceneLoader.ImportMeshAsync(null,"assets/scene-1/meshes/obstacles/cone/","cone.babylon",this.scene);case 20:return(s=e.sent).meshes[0].scaling=new p.Vector3(.5,.5,.5),s.meshes[0].rotationQuaternion=null,s.meshes[0].rotation.y=Math.PI/2,s.meshes[0].position.z=-100,s.meshes[0].name="cone",this.container.addChild(s.meshes[0]),e.next=29,p.SceneLoader.ImportMeshAsync(null,"assets/scene-1/meshes/obstacles/bucket/","bucket.babylon",this.scene);case 29:(i=e.sent).meshes[0].scaling=new p.Vector3(.005,.005,.005),i.meshes[0].rotationQuaternion=null,i.meshes[0].rotation.y=Math.PI/2,i.meshes[0].position.z=-100,i.meshes[0].name="bucket",this.container.addChild(i.meshes[0]),this.obstacles=[t.meshes[0],s.meshes[0],n.meshes[0],i.meshes[0]];case 37:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createObstaclesLimit",value:function(){this.obstacleLimit=p.MeshBuilder.CreatePlane("plane",{width:10,height:10},this.scene),this.obstacleLimit.position=new p.Vector3(-10,0,3.5),this.obstacleLimit.rotationQuaternion=null,this.obstacleLimit.rotation.y=-Math.PI/2}},{key:"init",value:function(){this.createObstacles()}},{key:"spawnWithDelay",value:function(e,t){this.currentTime=(new Date).getTime(),this.trySpawnTimeout=Math.floor(e/4),this.canSpawn(e,t)&&this.spawnObstacle()}}]),e}(),D=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"initMesh",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n,s;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.MeshBuilder.CreatePlane("mountain",{width:20,height:4}),n=new p.StandardMaterial("mountainMaterial",this.scene),s=new p.Mesh("mountain",this.scene),t.position.z=5,t.position.y=.3,n.diffuseTexture=new p.Texture("assets/scene-1/textures/mountains.png",this.scene),n.diffuseTexture.hasAlpha=!0,n.specularColor=new p.Color3(0,0,0),t.material=n,new P("mountain",[t],this.scene,{velocityX:-.01,parent:s,spawnPlace:{z:17,x:26,y:.1},despawnPlace:{z:17,x:-15,y:.1}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSounds",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(x),J=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"initSounds",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("method is not implemented yet");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"initMesh",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n,s,i;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.MeshBuilder.CreatePlane("street",{width:10,height:10}),n=new p.StandardMaterial("streetMaterial",this.scene),s=new p.Texture("assets/scene-1/textures/street.png",this.scene),i=new p.Mesh("street",this.scene),s.wAng=-Math.PI/2,t.position.z=5,t.position.y=.3,t.rotation.x=Math.PI/2,n.diffuseTexture=s,n.specularColor=new p.Color3(0,0,0),t.material=n,new P("street",[t],this.scene,{velocityX:-.05,parent:i,spawnPlace:{z:10.5,x:26,y:-1.4},despawnPlace:{z:10.5,x:-15,y:-1.4}});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(x),Q=function(e){Object(j.a)(n,e);var t=Object(g.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"initMesh",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){var t,n,s,i;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.MeshBuilder.CreatePlane("fence",{width:.2,height:1}),n=new p.StandardMaterial("fenceMaterial",this.scene),s=new p.Texture("assets/scene-1/textures/fence.png",this.scene),i=new p.Mesh("fence",this.scene),t.position.z=5,t.position.y=.3,n.diffuseTexture=s,n.diffuseTexture.hasAlpha=!0,n.specularColor=new p.Color3(0,0,0),t.material=n,new P("fence",[t],this.scene,{velocityX:-.05,parent:i,spawnPlace:{z:14.7,x:26,y:-1},despawnPlace:{z:14.7,x:-15,y:-1}});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSounds",value:function(){var e=Object(l.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(x),F=new function(){return this.isLoading=!1,this.onUpdateLoading=new p.Observable,this},U=function(){var e=Object(l.a)(Object(h.a)().mark((function e(t){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F.onUpdateLoading.notifyObservers(!0),e.next=3,Promise.all(t);case 3:F.onUpdateLoading.notifyObservers(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function X(e){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(Object(h.a)().mark((function e(t){var n,s,i,a,r,o,c,u,l;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.enablePhysics(null,new p.AmmoJSPlugin(!1)),z(t),n=new J(t),s=new Q(t),i=new T(t),a=new D(t),r=new E(t),o=new A(t),c=new M(t),e.next=11,U([c.initMesh(),n.initMesh(),s.initMesh(),i.initMesh(),a.initMesh(),r.initMesh(),o.initMesh()]);case 11:return new p.HemisphericLight("light",new p.Vector3(0,0,0),t).intensity=2,u=new V(t,c),e.next=16,u.init();case 16:l={jumping:{canJump:!1,isJumping:!1,jumpStartTime:0}},new p.Sound("BgMusic","assets/scene-1/songs/bg-music.mp3",t,null,{loop:!0,autoplay:!0,volume:.2}),l=R(t,c,l),c.mesh.physicsImpostor.registerOnPhysicsCollide(o.mesh.invisibleGround.physicsImpostor,(function(){l.jumping.canJump=!0,l.jumping.isJumping=!1})),t.onBeforeRenderObservable.add((function(){u.spawnWithDelay(1e3,2e3)}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return Object(f.jsx)(b,{antialias:!0,id:"babylonscene",adaptToDeviceRatio:!0,onSceneReady:X})}var Y=Object(s.memo)(W),K=n(22),G=n.n(K),Z=n(17),$=n.n(Z),q=n.p+"static/media/loading-screen.33f82ac5.png";var ee=function(){return Object(f.jsx)("div",{className:$.a.container,children:Object(f.jsx)("img",{className:$.a.img,src:q})})},te=n(23),ne=n.n(te);function se(e){return Object(f.jsx)("span",{className:ne.a.score,children:e.score})}function ie(e){var t=Object(s.useState)(!0),n=Object(o.a)(t,2),i=n[0],a=n[1];return Object(s.useEffect)((function(){F.onUpdateLoading.add((function(e){a(e)}))}),[]),Object(f.jsx)("div",{className:G.a.ui,children:i?Object(f.jsx)(ee,{}):Object(f.jsx)(se,{score:e.score})})}var ae=function(){var e=Object(s.useState)(0),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(s.useEffect)((function(){N.onUpdateScore.add((function(e){i(e)}))}),[]),Object(f.jsxs)("div",{className:u.a.canvaContainer,children:[Object(f.jsx)(Y,{}),Object(f.jsx)(ie,{score:n})]})},re=function(){return Object(f.jsx)(ae,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),a(e),r(e)}))};n(24)().then((function(){r.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(re,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),oe()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.bf43bf19.chunk.js.map